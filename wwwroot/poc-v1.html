<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vim Keys Grid Game - V1 (Anchor Focus)</title>
    <style>
      #grid div {
        display: flex;
      }
      #grid a {
        width: 60px;
        height: 60px;
        border: 1px solid black;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        color: black;
      }
      #grid a:focus {
        background-color: yellow;
        outline: 2px solid blue;
        outline-offset: -2px;
      }
    </style>
  </head>
  <body>
    <div id="grid"></div>

    <script src="lib/grid-state.js"></script>
    <script src="lib/vim-navigation.js"></script>
    <script>
      // Initialize grid state
      const gridState = new GridState(5);
      const grid = document.getElementById('grid');
      const cells = [];

      // Create 5x5 grid
      for (let row = 0; row < gridState.size; row++) {
        const rowDiv = document.createElement('div');
        const rowCells = [];

        for (let col = 0; col < gridState.size; col++) {
          const anchor = document.createElement('a');
          anchor.href = 'javascript:void(0)';
          anchor.textContent = `${row}${col}`;
          anchor.dataset.row = row;
          anchor.dataset.col = col;
          rowDiv.appendChild(anchor);
          rowCells.push(anchor);
        }

        grid.appendChild(rowDiv);
        cells.push(rowCells);
      }

      // Focus initial position
      const pos = gridState.getPosition();
      cells[pos.row][pos.col].focus();

      // Setup vim navigation
      const navigation = new VimNavigation(gridState, (position) => {
        cells[position.row][position.col].focus();
      });
      navigation.enable();
    </script>
  </body>
</html>
